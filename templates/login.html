{% extends 'base.html' %}
{% block titulo %} Login Page {% endblock titulo %}

{% block body %}
<style>
  :root {
    --azul-oscuro: #113155;
    --azul: #1d4ed8;
  }
  /* Fondo como el index */
  body { background: linear-gradient(180deg, #cfe3ff 0%, #cfe3ff 65%, #cfe3ff 100%); }
  /* Asegura azul en primarios (override del morado global) */
  .btn.btn-primary { background-color: var(--azul) !important; border-color: var(--azul) !important; }
  .btn.btn-primary:hover { background-color: var(--azul-oscuro) !important; border-color: var(--azul-oscuro) !important; }
  
</style>

{% with messages = get_flashed_messages(with_categories=true, category_filter=['logout_success']) %}
{% if messages %}
  {% for category, message in messages %}
  <script>
    const Toast = Swal.mixin({
      toast: true,
      position: "top-end",
      showConfirmButton: false,
      timer: 2000,
      timerProgressBar: true,
      didOpen: (t) => { t.onmouseenter = Swal.stopTimer; t.onmouseleave = Swal.resumeTimer; }
    });
    const iconMap = { logout_success: 'success', info: 'info' };
    Toast.fire({ icon: iconMap["{{category}}"] || 'success', title: {{ message|tojson }} });
  </script>
  {% endfor %}
{% endif %}
{% endwith %}

<div style="background: transparent; display:flex; height:95vh; justify-content:center; align-items:center;">
  <!-- Contenedor principal -->
  <div style="display:flex; border-radius:20px; overflow:hidden; width:90%; max-width:1100px; height:65vh; background-color:#f7fbff; box-shadow:0px 4px 12px rgba(0,0,0,0.12);">
    <!-- Columna izquierda -->
    <div style="background: linear-gradient(92deg,#113155,#1d4ed8); color:white; flex:1; padding:30px; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;">
      <img src="{{ url_for('static', filename='logo.png') }}" style="max-width:40%; height:auto; object-fit:contain; margin-bottom:20px;">
      <h2 style="margin-bottom:8px;">¡Bienvenido Nuevamente!</h2>
      <p style="font-family:Lucida Console; margin-bottom:16px; max-width:80%;">Si aún no tienes una cuenta, regístrate aquí</p>
      <a href="{{ url_for('Registro') }}">
        <button type="button" class="btn btn-outline-light">Registrarse</button>
      </a>
    </div>

    <!-- Columna derecha -->
    <div style="background-color:#f7fbff; flex:1; padding:30px; display:flex; flex-direction:column; justify-content:center; align-items:center;">
      <h2 style="margin-bottom:14px;">Iniciar Sesión</h2>

      <button type="button" class="btn btn-light" style="width:100%; max-width:400px; height:45px; margin-bottom:18px; display:flex; align-items:center; justify-content:center;">
        <img src="{{ url_for('static', filename='logoGoogle.png') }}" alt="Google Logo" style="width:20px; margin-right:10px;">
        Iniciar con Google
      </button>

      <p style="margin-bottom:12px;">o Iniciar Sesión con una cuenta</p>

      <form method="post" action="{{ url_for('accesologin') }}" style="width:100%; max-width:400px;">
        <div class="input-group mb-3">
          <input type="email" class="form-control" name="email" placeholder="Correo electrónico" required>
        </div>
        <div class="input-group mb-3">
          <input type="password" class="form-control" name="password" placeholder="Contraseña" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width:100%; height:45px;">Iniciar Sesión</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}